<?xml version="1.0" encoding="UTF-8"?>
<svg width="256" height="256" viewBox="0 0 256 256" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- Background rounded square -->
  <rect x="4" y="4" width="248" height="248" rx="36" ry="36" fill="#0F1724"/>

  <!-- Soft inner panel -->
  <rect x="20" y="20" width="216" height="216" rx="28" ry="28" fill="#111827" opacity="0.9"/>

  <!-- Left CAN connector -->
  <g id="left-connector" transform="translate(40,86)">
    <rect x="0" y="0" width="50" height="84" rx="8" ry="8" fill="#1F2937"/>
    <!-- pins -->
    <g fill="#94A3B8">
      <rect x="6" y="12" width="38" height="6" rx="3" ry="3"/>
      <rect x="6" y="32" width="38" height="6" rx="3" ry="3"/>
      <rect x="6" y="52" width="38" height="6" rx="3" ry="3"/>
    </g>
    <!-- small label block -->
    <rect x="6" y="66" width="38" height="10" rx="3" ry="3" fill="#0EA5A0" opacity="0.15"/>
  </g>

  <!-- Right CAN connector (mirrored) -->
  <g id="right-connector" transform="translate(166,86)">
    <rect x="0" y="0" width="50" height="84" rx="8" ry="8" fill="#1F2937"/>
    <g fill="#94A3B8">
      <rect x="6" y="12" width="38" height="6" rx="3" ry="3"/>
      <rect x="6" y="32" width="38" height="6" rx="3" ry="3"/>
      <rect x="6" y="52" width="38" height="6" rx="3" ry="3"/>
    </g>
    <rect x="6" y="66" width="38" height="10" rx="3" ry="3" fill="#F59E0B" opacity="0.12"/>
  </g>

  <!-- Central app block -->
  <g id="app-block" transform="translate(86,64)">
    <rect x="0" y="0" width="84" height="128" rx="12" ry="12" fill="#0B1220" stroke="#22303B" stroke-width="1.5"/>
    <!-- mapping table icon (top) -->
    <g transform="translate(14,14)">
      <rect x="0" y="0" width="56" height="36" rx="4" ry="4" fill="#111827" stroke="#374151" stroke-width="1"/>
      <!-- grid lines -->
      <g stroke="#374151" stroke-width="1">
        <line x1="0" y1="12" x2="56" y2="12" />
        <line x1="0" y1="24" x2="56" y2="24" />
        <line x1="18" y1="0" x2="18" y2="36" />
        <line x1="36" y1="0" x2="36" y2="36" />
      </g>
    </g>

    <!-- arrows indicating retransmission (center) -->
    <g transform="translate(42,70)">
      <!-- left-to-right arrow (green) -->
      <path d="M -34 -6 C -20 -18, 20 -18, 34 -6" fill="none" stroke="#10B981" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M 30 -10 L 38 -6 L 30 -2 Z" fill="#10B981"/>

      <!-- right-to-left arrow (muted gray, behind) -->
      <path d="M -34 18 C -20 6, 20 6, 34 18" fill="none" stroke="#94A3B8" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/>
      <path d="M -30 14 L -38 18 L -30 22 Z" fill="#94A3B8" opacity="0.9"/>
    </g>

    <!-- small indicator lights (bottom) -->
    <g transform="translate(20,104)">
      <circle cx="8" cy="8" r="6" fill="#10B981" /> <!-- green: active -->
      <circle cx="28" cy="8" r="6" fill="#F97316" opacity="0.0"/> <!-- orange: warning (hidden by default) -->
      <circle cx="48" cy="8" r="6" fill="#EF4444" /> <!-- red: error -->
    </g>
  </g>

  <!-- Decorative subtle connection lines -->
  <g stroke="#475569" stroke-width="2.5" fill="none" stroke-linecap="round">
    <!-- left connector to app -->
    <path d="M 90 128 C 108 128, 122 128, 128 128" stroke="#94A3B8" opacity="0.18"/>
    <!-- app to right connector -->
    <path d="M 144 128 C 150 128, 164 128, 176 128" stroke="#94A3B8" opacity="0.18"/>
  </g>

  <!-- Small textual hint (optional, but kept as accessible title) -->
  <title>CAN Relay - Input to Output with ID mapping</title>
</svg>
